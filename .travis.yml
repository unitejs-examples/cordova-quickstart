language: node_js
language: java
node_js:
  - "8"
before_install:
  - npm install -g unitejs-cli
  - npm install -g gulp
  - npm install -g cordova
  - unite configure --profile=ReactTypeScript --title="Cordova QuickStart" --packageName=unitejs-cordova-quickstart --outputDirectory=./
  - unite platform --operation=add --platformName=Cordova
  - cd www
  - cordova telemetry off
install:
  - npm install
script: 
  - gulp build || travis_terminate 1
  - gulp unit || travis_terminate 1
#  - gulp e2e-install --drivers=chrome || travis_terminate 1
#  - gulp e2e || travis_terminate 1
  - gulp build --buildConfiguration=prod || travis_terminate 1
#  - gulp e2e || travis_terminate 1
  - gulp platform-cordova-dev --buildConfiguration=prod || travis_terminate 1
  - gulp platform-cordova-theme --buildConfiguration=prod || travis_terminate 1
  - cd ../platform/cordova
  - cordova build android
cache:
  directories:
  - www/node_modules
  
